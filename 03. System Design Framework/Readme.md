# Глава 3: Фреймворк для интервью по системному дизайну

## Введение
Интервью по системному дизайну — важная часть процесса найма, моделирующая реальные сценарии решения проблем. Эти интервью оценивают не только технические знания, но и умение работать в команде, коммуницировать и справляться с неоднозначными требованиями.

Эта глава представляет **четырёхшаговую структуру** для успешного прохождения интервью по системному дизайну.

---

## Шаг 1: Понять задачу и определить границы проектирования

### Основные цели
- Уточнить требования и предположения.
- Не торопиться с предложением решений.
- Продемонстрировать критическое мышление через грамотные вопросы.

### Подход
- **Задавайте уточняющие вопросы:**
  - Какие функции самые важные?
  - На какой масштаб рассчитана система?
  - Мы проектируем для веба, мобильных устройств или и того и другого?
  - Есть ли существующие технологии или ограничения?

- ** Записывайте свои предположения:** Записывайте их на доске или бумаге для наглядности.

### Пример
**Задача:** Спроектировать систему новостной ленты.
**Вопросы:**
- Это мобильное приложение, веб-приложение или оба варианта?
- Сколько друзей может быть у пользователя?
- Включает ли лента изображения и видео?
- Отсортирована ли лента в обратном хронологическом порядке?

---

## Шаг 2: Предложить общую архитектуру и получить согласие

### Основные цели
- Разработать архитектуру высокого уровня.
- Совместно с интервьюером уточнить и улучшить архитектуру.

### Подход
- **Набросайте схему:**
  - Используйте блоки для основных компонентов (клиенты, API, базы данных, кэш, CDN).
  - Рассматривайте интервьюера как напарника по обсуждению архитектуры.

- **Выполните оценки «на глаз» (back-of-the-envelope):**
  - Убедитесь, что архитектура справится с предполагаемыми нагрузками.

- **Пройдитесь по сценариям использования:** Найдите крайние случаи и проверьте предположения.

### Пример
Для новостной ленты разделите проект на:
1. **Публикация в ленту:** Запись постов в базу данных и распространение в ленты друзей.
2. **Получение ленты:** Агрегация и отображение постов друзей в обратном хронологическом порядке.

---

## Шаг 3: Углублённая проработка дизайна

### Основные цели
- Разобрать критически важные компоненты системы.
- Показать глубину знаний и способность адаптироваться.

### Подход
- **Выделите приоритетные компоненты:** Сосредоточьтесь на наиболее важных частях системы.
- **Обсудите узкие места:** Укажите потенциальные проблемы производительности и предложите решения.
- **Балансируйте глубину:** Не увлекайтесь деталями и избегайте оверинжиниринга.

### Примеры тем
- **Сокращение URL:** Сконцентрируйтесь на выборе хеш-функции.
- **Чат-система:** Оптимизация задержек и обработка онлайн/оффлайн-статуса.
- **Новостная лента:** Проработка процессов публикации и получения ленты.

---

## Шаг 4: Завершение

### Основные цели
- Выявить области для улучшения.
- Подвести итог проекту и предложить дальнейшие шаги.

### Подход
- **Выявите узкие места:** Обсудите возможные ограничения и стратегии масштабирования.
- **Суммируйте архитектуру:** Повторите ключевые решения и компромиссы.
- **Предложите улучшения:**
  - Масштабирование от 1 до 10 миллионов пользователей.
  - Обработка ошибок при сбоях серверов и проблемах с сетью.

---

## Рекомендации

### Что делать
- **Задавайте вопросы:** Уточняйте требования до начала проектирования.
- **Коммуницируйте:** Делитесь ходом мыслей с интервьюером.
- **Работайте вместе с интервьюером:** Относитесь к нему как к партнёру.
- **Будьте гибкими:** Предлагайте альтернативные подходы и уточняйте архитектуру.
- **Сосредоточьтесь на ключевых компонентах:** Уделяйте приоритет основным частям.

### Чего избегать
- **Не спешите с решениями:** Поймите требования, прежде чем проектировать.
- **Не молчите:** Общайтесь на протяжении всего процесса.
- **Не усложняйте:** Сосредоточьтесь на практичных и масштабируемых решениях.

---

## Управление временем

### Рекомендуемое распределение времени (для 45-минутного интервью):
1. **Понимание задачи и области проектирования:** 3–10 минут
2. **Проработка архитектуры и получение обратной связи:** 10–15 минут
3. **Углублённая проработка:** 10–25 минут
4. **Завершение:** 3–5 минут

